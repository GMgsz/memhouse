<view class="poetry-creation" hidden="{{!y}}"><view class="header"><view class="status-bar" style="{{'height:' + a}}"></view><view class="header-content"><view class="header-left" bindtap="{{c}}"><uni-icons wx:if="{{b}}" u-i="57a1ded5-0" bind:__l="__l" u-p="{{b}}"/></view><view class="header-center"><text class="title">诗歌创作</text></view><view class="header-right"></view></view></view><view class="content"><view class="steps-container"><uni-steps wx:if="{{d}}" u-i="57a1ded5-1" bind:__l="__l" u-p="{{d}}"/></view><view wx:if="{{e}}" class="step-content"><view class="upload-section"><view wx:if="{{f}}" class="upload-box" bindtap="{{h}}"><uni-icons wx:if="{{g}}" u-i="57a1ded5-2" bind:__l="__l" u-p="{{g}}"></uni-icons><text>点击上传图片</text></view><view wx:else class="image-preview-container"><image src="{{i}}" mode="aspectFit" class="preview-image"/><button class="reupload-btn" bindtap="{{j}}">重新上传</button></view><button class="analyze-btn" disabled="{{k}}" bindtap="{{l}}">开始分析</button></view></view><view wx:if="{{m}}" class="step-content"><view class="section-title">选择关键词</view><view class="tags-container"><view wx:for="{{n}}" wx:for-item="tag" wx:key="b" class="{{['tag', tag.c]}}" bindtap="{{tag.d}}">{{tag.a}}</view></view><view class="section-title">选择诗歌体裁</view><view class="style-container"><view wx:for="{{o}}" wx:for-item="style" wx:key="b" class="{{['style-item', style.c]}}" bindtap="{{style.d}}">{{style.a}}</view></view><button class="create-btn" disabled="{{p}}" bindtap="{{q}}">生成诗歌</button></view><view wx:if="{{r}}" class="step-content"><view class="poem-display"><text class="poem-text" user-select>{{s}}</text></view><view class="action-buttons"><button bindtap="{{t}}" class="action-btn">复制诗歌</button><button bindtap="{{v}}" class="action-btn">生成分享卡片</button><button bindtap="{{w}}" class="action-btn">重新创作</button><button bindtap="{{x}}" class="action-btn">返回首页</button></view></view></view></view><canvas id="shareCanvas" canvas-id="shareCanvas" style="{{'width:' + '600px' + ';' + ('height:' + z) + ';' + ('position:' + 'fixed') + ';' + ('left:' + '-9999px') + ';' + ('visibility:' + 'hidden')}}"/><view wx:if="{{A}}" class="share-preview-mask" bindtap="{{H}}"><view class="share-preview-content" catchtap="{{G}}"><view class="preview-header"><text class="preview-title">分享卡片预览</text><view class="preview-close" bindtap="{{C}}"><uni-icons wx:if="{{B}}" u-i="57a1ded5-3" bind:__l="__l" u-p="{{B}}"/></view></view><view class="preview-content"><image wx:if="{{D}}" src="{{E}}" mode="widthFix" class="preview-image"/></view><view class="preview-actions"><button class="preview-btn save-btn" bindtap="{{F}}">保存到相册</button></view></view></view>